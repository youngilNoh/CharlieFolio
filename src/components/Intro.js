import React, { useEffect, useRef } from "react";
import "./Intro.scss";

const useSvgTop = (top = 0, delay = 1, duration = 1) => {
  const element = useRef();
  useEffect(() => {
    if (element.current) {
      const { current } = element;
      current.style.animationDelay = `${delay}s`;
      current.style.animationDuration = `${duration}s`;
      setTimeout(() => {
        current.style.top = `${top}%`;
        setTimeout(() => {
          current.classList.add("float");
          current.style.animationDelay = `0s`;
          current.style.animationDuration = `3s`;
        }, duration * 1000);
      }, delay * 1000);
    }
  }, [top, delay, duration]);

  if (typeof top !== "number" || typeof delay !== "number") {
    return;
  }
  return { ref: element };
};

function Intro() {
  const logoC = useSvgTop(5, 1, 1.2),
    logoH = useSvgTop(28, 1.2, 1.2),
    logoA = useSvgTop(45, 1.7, 1.4),
    logoR = useSvgTop(60, 2.2, 1.4),
    logoL = useSvgTop(58, 2.5, 1.5),
    logoI = useSvgTop(65, 2.6, 1.2),
    logoE = useSvgTop(80, 2.7, 1.2);
  return (
    <div className="intro">
      <svg className="intro__logo--c" viewBox="0 0 994.6 531.83" {...logoC}>
        <path d="M985.76,427.6C932,490.44,846.25,508.78,767.55,515.67c-49.63,4.34-99.66,5.48-149.46,5.56q-80.25.15-160.39-5.49c-49.24-3.47-98.65-7.92-147.37-16q-6.7-1.11-13.41-2.35L277,493.44c-32.39-6.86-64.34-16.12-94.58-29.59C142.51,446.08,106.29,421,77.73,387.8A281.4,281.4,0,0,1,19.34,276.35c-22.17-84.23-1-176.66,54.18-243.87A277.48,277.48,0,0,1,95.26,9c4.64-4.48-2.44-11.54-7.07-7.07-64,61.72-97,153.61-85.37,241.92,11.54,87.26,63.56,165.45,139.1,210.37C183.6,479,229.6,494,277,503.91l19.95,3.85c38.33,6.86,77.28,10.84,115.34,14.31A2196.7,2196.7,0,0,0,739,527.73c80.62-4.71,169.31-16.92,232.67-71.67a201,201,0,0,0,21.21-21.38C997,429.81,990,422.7,985.76,427.6Z" />
      </svg>
      <svg className="intro__logo--h" viewBox="0 0 136.72 357.33" {...logoH}>
        <path d="M136.22,259.67c.14-20.84-5-43.11-18.24-59.64a50.42,50.42,0,0,0-58.74-15.57C35.6,193.84,20.7,215.26,13.56,239c-1.1,3.63-2,7.31-2.84,11,.08-35.34.17-81.51.25-116.95h0l.13-54,.18-73.66c0-6.44-10-6.44-10,0l-.3,124H1c-.1,41.54-.2,95.27-.3,136.81L.5,339.78c0,6.55,9.4,6.3,10,0,2.66-27.83,3.77-56.4,9.19-83.86,4.67-23.65,14.81-47,36.83-59.19,18.48-10.2,40.07-7.16,53.6,9.39,12.24,15,16.4,36,16.08,54.86-.52,30.9-9,61.56-1.71,92.28,1.49,6.26,11.13,3.61,9.64-2.66C127,320.49,136,290,136.22,259.67Z" />
      </svg>
      <svg className="intro__logo--a" viewBox="0 0 136.54 139.46" {...logoA}>
        <path d="M131.33,108a215.73,215.73,0,0,1-39.4-41.39C88.67,49.21,79.38,32.74,69.27,17.93c3-1.73,6-3.43,9-5.11,5.61-3.16.58-11.8-5-8.63q-4.86,2.73-9.73,5.55L61.57,7.07c-3.1-4.24-11-1.95-9.14,3.86q.75,2.28,1.55,4.54c-14.74,9.22-28.6,19.85-38.66,34.17C3.52,66.45-.08,88.13,7.43,107.52,14.57,126,31.77,139,52.14,135.34c21.48-3.9,37.08-25.34,40.28-45.95.27-1.69.45-3.38.57-5.07a219.35,219.35,0,0,0,31.27,30.79C129.23,119.1,136.35,112.07,131.33,108ZM82.91,75.35c1.51,19-7.87,40.11-26,48.13-16.37,7.23-32.72-2.13-39.41-17.63-6.94-16.06-4.54-34.21,4.8-48.68C31,43.6,43.88,33.57,57.56,25A223.89,223.89,0,0,0,82.33,70.4C82.58,72,82.78,73.68,82.91,75.35Z" />
      </svg>
      <svg className="intro__logo--r" viewBox="0 0 171.97 149.73" {...logoR}>
        <path d="M163.64,3.5C108.1,4.89,58.21,44.21,38.88,95.5a125.1,125.1,0,0,0-5,16.8A585.94,585.94,0,0,0,13.51,50.69c-2.33-5.92-12-3.35-9.64,2.65A587.73,587.73,0,0,1,31,142.66c1.21,5.54,9.9,4.27,9.82-1.33-.7-51.18,34-99.09,80.6-118.71a116.28,116.28,0,0,1,42.19-9.12C170.07,13.34,170.09,3.34,163.64,3.5Z" />
      </svg>
      <svg className="intro__logo--l" viewBox="0 0 70.41 256.79" {...logoL}>
        <path d="M66.78,247.05q-26.76-120-53.5-240c-1.4-6.28-11-3.63-9.64,2.65l53.49,240C58.53,256,68.18,253.33,66.78,247.05Z" />
      </svg>
      <svg className="intro__logo--i" viewBox="0 0 56.41 272.28" {...logoI}>
        <path d="M8.33,3.5c-6.43,0-6.45,10,0,10S14.78,3.5,8.33,3.5Z" />
        <path d="M52.72,262.58a958.8,958.8,0,0,1-30-184.67c-.41-6.39-10.41-6.43-10,0A972.09,972.09,0,0,0,43.08,265.24C44.72,271.45,54.37,268.81,52.72,262.58Z" />
      </svg>
      <svg className="intro__logo--e" viewBox="0 0 134 200.58" {...logoE}>
        <path d="M120,187.06a119.1,119.1,0,0,1-76.31-37.89,112.86,112.86,0,0,1-21-33A151.76,151.76,0,0,0,75.84,109c15.85-5.12,33.18-12.65,44.4-25.44,11-12.49,13.2-28.71,6.44-43.83C119.72,24.18,105.37,14,89.45,9A121.9,121.9,0,0,0,62.11,4.18C52.88,3.46,42.9,2.66,34,5.55c-15.77,5.09-23.56,20.86-27.13,36-8,34-1.3,71.42,18.36,100.33C46.65,173.41,82,193.65,120,197.06,126.37,197.63,126.33,187.63,120,187.06ZM13.59,65.19c.57-13.84,2.94-30.12,11.55-41.47C35.26,10.38,54.22,13,68.94,14.85c15.34,1.89,31.3,6.71,41.88,18.6,9.29,10.44,13.4,25.65,5.88,38.21C108.15,86,89.93,93.75,74.86,98.84A144.14,144.14,0,0,1,19,106,120.23,120.23,0,0,1,13.59,65.19Z" />
      </svg>
    </div>
  );
}

export default Intro;
